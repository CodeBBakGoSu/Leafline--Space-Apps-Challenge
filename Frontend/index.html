<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>BloomBee</title>
        <script
            src="https://code.jquery.com/jquery-3.7.1.min.js"
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
            crossorigin="anonymous"></script>
        <link rel="stylesheet" href="css/font.css" />
        <link rel="stylesheet" href="css/style.css" />
        <link rel="stylesheet" href="css/index.css" />
        <link rel="stylesheet" href="css/chat.css" />
        <link rel="icon" type="image/png" href="img/logo/favicon.png" />
    </head>
    <body>
        <div class="page-wrap">
            <div class="nav-wrap">
                <div class="nav">
                    <div class="logo">
                        <img src="img/logo/logo_small.png" class="logo-img" width="150px" />
                    </div>
                    <div class="menu">
                        <div class="menu-item" data-page="dashboard">
                            <div class="menu-img">
                                <img src="img/icon_common/icon_nav_dashboard_gray.png" width="40px" />
                            </div>
                            <div class="menu-text font-m">Dashboard</div>
                        </div>
                        <div class="menu-item" data-page="calendar">
                            <div class="menu-img">
                                <img src="img/icon_common/icon_nav_calendar_gray.png" width="40px" />
                            </div>
                            <div class="menu-text font-m">Calendar</div>
                        </div>
                        <div class="menu-item" data-page="community">
                            <div class="menu-img">
                                <img src="img/icon_common/icon_nav_community_gray.png" width="40px" />
                            </div>
                            <div class="menu-text font-m">Community</div>
                        </div>
                        <div class="menu-item" data-page="setting">
                            <div class="menu-img">
                                <img src="img/icon_common/icon_nav_setting_gray.png" width="40px" />
                            </div>
                            <div class="menu-text font-m">Setting</div>
                        </div>
                    </div>
                </div>
                <div class="chatbot-wrap">
                    <div class="chatbot">
                        <div class="chatbot-item">
                            <div class="line">
                                <hr width="140px" />
                            </div>
                            <div class="chatbot-menu" data-page="chatbot">
                                <div class="menu-img">
                                    <img src="img/icon_common/icon_nav_chatbot_gray.png" width="40px" />
                                </div>
                                <div class="menu-text font-m">Bloom Ai</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="dBody">
            <div class="body-container">
                <div class="top">
                    <div class="greeting-container">greeting</div>
                    <div class="notification-container">notification</div>
                </div>
                <div class="middle">
                    <div class="to-do-container">todo</div>
                    <div class="weather-container">weather</div>
                </div>
                <div class="bottom">
                    <!-- html include -->
                </div>
            </div>
        </div>

        <!-- 챗봇 모달 -->
        <div id="chatModal" class="chat-modal hidden">
            <!-- 채팅 컨테이너 -->
            <div class="chat-container">
                <!-- 헤더 -->
                <div class="chat-header">
                    <div class="chat-logo">
                        <img src="img/chatting/Chatting logo.png" alt="Bloom AI">
                    </div>
                    <div class="chat-header-buttons">
                        <div class="chat-menu">
                            <img src="img/chatting/icon_hamburger.png" alt="menu">
                        </div>
                        <div class="chat-close" id="chatClose">
                            <span>✕</span>
                        </div>
                    </div>
                </div>

                <!-- 메시지 영역 -->
                <div class="chat-messages" id="chatMessages">
                    <!-- 메시지들이 여기에 동적으로 추가됩니다 -->
                </div>

                <!-- 입력 영역 -->
                <div class="chat-input-container">
                    <input 
                        type="text" 
                        id="chatInput" 
                        class="chat-input" 
                        placeholder="메시지를 입력하세요..."
                    >
                    <button id="sendButton" class="send-button" disabled>
                        <img id="sendIcon" src="img/chatting/icon_send_gray.png" alt="send">
                    </button>
                </div>
            </div>
        </div>

        <script src="js/index.js"></script>
        <script src="js/chat.js"></script>
        <script>
            // 메뉴 클릭 시 페이지 이동
            document.addEventListener("DOMContentLoaded", () => {
                const menuItems = document.querySelectorAll(".menu-item, .chatbot-menu");

                menuItems.forEach((item) => {
                    item.addEventListener("click", () => {
                        const page = item.getAttribute("data-page");

                        switch (page) {
                            case "dashboard":
                                window.location.href = "pages/dashboard.html";
                                break;
                            case "calendar":
                                window.location.href = "calendar.html";
                                break;
                            case "community":
                                alert("Community 페이지는 준비 중입니다.");
                                break;
                            case "setting":
                                alert("Setting 페이지는 준비 중입니다.");
                                break;
                            case "chatbot":
                                // 챗봇 모달 열기
                                openChatModal();
                                break;
                        }
                    });

                    // 커서 포인터 추가
                    item.style.cursor = "pointer";
                });
            });
        </script>
    </body>
</html>
